import{d as G,u as P,s as H,a as J,r as w,o as K,b as Q,c as i,w as l,A as X,E as N,f as p,v as Y,g as e,h as r,i as _,j as s,t as m,T as Z,F as V,k as z,l as v,p as ee,q as h,_ as te}from"./index-bcaedb4f.js";import{i as se,a as ne,b as oe,c as le}from"./relic_axi-05cc5723.js";import{i as re,a as ae,b as ie,c as ce}from"./systems-5ba34008.js";const ue={key:0,class:"qp-container"},de={class:"qp-relics-actions-era"},_e=["textContent"],pe=["textContent"],me=["textContent"],ve=["textContent"],he=["textContent"],fe=["onClick"],we={class:"qp-relics-item-wrapper"},ge={class:"qp-relics-image"},ke={class:"qp-relics-name"},ye=["textContent"],qe={key:0,class:"qp-relics-components-count"},Ce=["textContent"],xe={class:"qp-relics-rarities"},$e={key:0,class:"qp-relics-rarities-gold"},Re={key:1,class:"qp-relics-rarities-silver"},be={key:2,class:"qp-relics-rarities-bronze"},Le=["textContent"],Ee={key:0,class:"qp-relics-drawer-components-list"},Ae={class:"qp-relics-drawer-components-item-wrapper"},Ne={class:"qp-relics-drawer-components-img"},Ve={class:"qp-relics-drawer-components-name"},ze=["textContent"],Ue={class:"qp-relics-drawer-rarities"},Be={key:0,class:"qp-relics-drawer-rarities-gold"},Me={key:1,class:"qp-relics-drawer-rarities-silver"},De={key:2,class:"qp-relics-drawer-rarities-bronze"},Oe=G({__name:"UserView",setup(Te){const{t:U}=P(),B=Y(),M=H();J(M);const g=w(!1),x=w(null),y=w(!1),f=w(null),$=w([]),q=w([]),L=w(window.innerWidth),D=async(o=null)=>{g.value=!0,x.value=null;let n="";o&&(n=`?era=${o}`);try{let a=await fetch(`${X}/users/${B.params.slug}/relics/${n}`,{method:"GET"}).then(c=>c).catch(()=>new Response(null,{status:400}));if(a.status===200){let c=await a.json();const C=["Lith","Meso","Neo","Axi"],u=c.results.sort((R,b)=>C.indexOf(R.era)-C.indexOf(b.era));$.value=u,q.value=u,g.value=!1}else throw a.status}catch(a){a===401?N.error("not authorized"):N.error(U("AnErrorOccurred")),x.value=`${a}`,g.value=!1}},O=(o,n)=>{let a=o.filter(c=>c.era==n);return a!=null&&a.length?a:[]},k=(o=null)=>{o?q.value=O($.value,o):q.value=$.value},T=(o=null)=>{f.value=o,y.value=!0},W=()=>{y.value=!1,f.value=null},E=()=>{L.value=window.innerWidth};return K(()=>{D(),window.addEventListener("resize",E)}),Q(()=>{window.removeEventListener("resize",E)}),(o,n)=>{const a=p("qp-header"),c=p("el-button"),C=p("el-button-group"),u=p("el-image"),R=p("el-col"),b=p("el-row"),S=p("el-drawer"),j=p("qp-notfound"),I=p("qp-loading"),F=p("qp-page");return e(),i(F,null,{default:l(()=>[!g.value&&!x.value?(e(),r("div",ue,[_(a,{title:o.$t("Relics"),"page-type":"relics"},null,8,["title"]),s("div",de,[_(C,null,{default:l(()=>[_(c,{onClick:n[0]||(n[0]=t=>k())},{default:l(()=>[s("span",{textContent:m(o.$t("All"))},null,8,_e)]),_:1}),_(c,{onClick:n[1]||(n[1]=t=>k("Lith"))},{default:l(()=>[s("span",{textContent:m(o.$t("Lith"))},null,8,pe)]),_:1}),_(c,{onClick:n[2]||(n[2]=t=>k("Meso"))},{default:l(()=>[s("span",{textContent:m(o.$t("Meso"))},null,8,me)]),_:1}),_(c,{onClick:n[3]||(n[3]=t=>k("Neo"))},{default:l(()=>[s("span",{textContent:m(o.$t("Neo"))},null,8,ve)]),_:1}),_(c,{onClick:n[4]||(n[4]=t=>k("Axi"))},{default:l(()=>[s("span",{textContent:m(o.$t("Axi"))},null,8,he)]),_:1})]),_:1})]),_(b,{class:"qp-relics-list"},{default:l(()=>[_(Z,{name:"list",mode:"out-in"},{default:l(()=>[(e(!0),r(V,null,z(q.value,(t,d)=>(e(),i(R,{key:`relics-${d}`,span:12,sm:8,md:6,lg:4,class:"qp-relics-col"},{default:l(()=>[s("div",{class:"qp-relics-item",onClick:A=>T(t)},[s("div",we,[s("div",ge,[_(ee,null,{default:l(()=>[t.era=="Lith"?(e(),i(u,{key:0,src:h(se)},null,8,["src"])):t.era=="Meso"?(e(),i(u,{key:1,src:h(ne)},null,8,["src"])):t.era=="Neo"?(e(),i(u,{key:2,src:h(oe)},null,8,["src"])):t.era=="Axi"?(e(),i(u,{key:3,src:h(le)},null,8,["src"])):v("",!0)]),_:2},1024)]),s("div",ke,[s("span",{textContent:m(`${t.era} ${t.name}`)},null,8,ye)]),t.components.length>1?(e(),r("div",qe,[s("span",{textContent:m(`x${t.components.length}`)},null,8,Ce)])):v("",!0),s("div",xe,[t.rarities.gold?(e(),r("span",$e)):v("",!0),t.rarities.silver?(e(),r("span",Re)):v("",!0),t.rarities.bronze?(e(),r("span",be)):v("",!0)])])],8,fe)]),_:2},1024))),128))]),_:1})]),_:1}),_(S,{modelValue:y.value,"onUpdate:modelValue":n[5]||(n[5]=t=>y.value=t),direction:"rtl",size:L.value<992?"90%":"30%","before-close":W},{header:l(()=>[f.value?(e(),r("span",{key:0,class:"el-drawer__title",textContent:m(`${f.value.era} ${f.value.name}`)},null,8,Le)):v("",!0)]),default:l(()=>{var t;return[s("div",null,[(t=f.value)!=null&&t.components?(e(),r("ul",Ee,[(e(!0),r(V,null,z(f.value.components,(d,A)=>(e(),r("li",{key:`warframe-components-${A}`,class:"qp-relics-drawer-components-item"},[s("div",Ae,[s("div",Ne,[d.component=="blueprint"?(e(),i(u,{key:0,src:h(re)},null,8,["src"])):d.component=="chassis"?(e(),i(u,{key:1,src:h(ae)},null,8,["src"])):d.component=="neuroptics"?(e(),i(u,{key:2,src:h(ie)},null,8,["src"])):d.component=="systems"?(e(),i(u,{key:3,src:h(ce)},null,8,["src"])):v("",!0)]),s("div",null,[s("div",Ve,[s("span",{textContent:m(d.name)},null,8,ze)]),s("div",Ue,[d.percent<10?(e(),r("span",Be)):d.percent>9&&d.percent<20?(e(),r("span",Me)):d.percent>19?(e(),r("span",De)):v("",!0)])])])]))),128))])):v("",!0)])]}),_:1},8,["modelValue","size"])])):g.value?(e(),i(I,{key:2})):(e(),i(j,{key:1}))]),_:1})}}});const Ie=te(Oe,[["__scopeId","data-v-0542a2ac"]]);export{Ie as default};
