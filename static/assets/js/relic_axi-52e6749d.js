import{d as k,u as C,s as R,a as b,r as m,g as t,h as a,n as x,F as D,k as E,l as g,m as $,v as O,j as r,i as A,t as S,A as B,H as N,E as c,_ as z}from"./index-d4c5f6c0.js";import{_ as F}from"./WeaponImage.vue_vue_type_script_setup_true_lang-64bded63.js";const I={key:0,class:"qp-relics-drawer-components-list"},L=["onClick"],U={class:"qp-relics-drawer-components-item-wrapper"},V={class:"qp-relics-drawer-components-img"},j={class:"qp-relics-drawer-components-name"},H=["textContent"],M={class:"qp-relics-drawer-rarities"},P={key:0,class:"qp-relics-drawer-rarities-gold"},T={key:1,class:"qp-relics-drawer-rarities-silver"},G={key:2,class:"qp-relics-drawer-rarities-bronze"},J=k({__name:"RelicDrawer",props:{relic:{type:Object,required:!0},readonly:{type:Boolean,default:!1,required:!1}},emits:["close"],setup(i,{emit:h}){const l=i,{t:d}=C(),v=R(),{rat:f,lang:w}=b(v),n=m(!1),p=m(null),y=async(_,u)=>{n.value=!0,p.value=null;let o=new FormData;o.append("id",_.toString());try{let s=await fetch(`${B}/me/${u}/components/create/`,{method:"POST",body:o,headers:N(f.value,w.value)}).then(e=>e).catch(()=>new Response(null,{status:400}));if(s.status===201)c.success({message:d("ComponentUpdated"),showClose:!0}),n.value=!1,h("close");else throw s.status}catch(s){s===401?c.error("not authorized"):c.error(d("AnErrorOccurred")),p.value=`${s}`,n.value=!1}};return(_,u)=>{var s;const o=$("loading");return t(),a("div",null,[(s=l.relic)!=null&&s.components?x((t(),a("ul",I,[(t(!0),a(D,null,E(l.relic.components,(e,q)=>(t(),a("li",{key:`warframe-components-${q}`,class:O(`qp-relics-drawer-components-item${i.readonly?" qp-readonly":""}`),onClick:K=>i.readonly?void 0:y(e.id,e.type)},[r("div",U,[r("div",V,[A(F,{component:e.component},null,8,["component"])]),r("div",null,[r("div",j,[r("span",{textContent:S(e.name)},null,8,H)]),r("div",M,[e.percent<10?(t(),a("span",P)):e.percent>9&&e.percent<20?(t(),a("span",T)):e.percent>19?(t(),a("span",G)):g("",!0)])])])],10,L))),128))])),[[o,n.value]]):g("",!0)])}}});const X=z(J,[["__scopeId","data-v-b644d4d6"]]),Y="/static/assets/img/relic_lith-5b7e387f.png",Z="/static/assets/img/relic_meso-a11281ee.png",ee="/static/assets/img/relic_neo-7caabf00.png",se="/static/assets/img/relic_axi-a32307ff.png";export{Z as a,ee as b,se as c,Y as i,X as q};
