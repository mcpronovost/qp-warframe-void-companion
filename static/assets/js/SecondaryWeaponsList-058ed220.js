import{d as R,u as V,s as j,a as G,r as u,o as O,g as s,h as y,i,j as e,w as l,q as x,c,t as m,F as P,l as Y,T as J,A as K,H as Q,E,f as r,M as z,m as X,_ as Z}from"./index-708ca2a2.js";import{q as ee}from"./index-5c87147b.js";const te={key:0,class:"qp-container"},oe={class:"qp-weapons-actions"},ne=["textContent"],se=["textContent"],ae=["onClick"],le={class:"qp-weapons-item-wrapper"},re={class:"qp-weapons-name"},pe=["textContent"],ue={key:0,class:"qp-weapons-complete"},ie={class:"qp-weapons-completion"},ce={class:"qp-weapons-allcomplete"},de=["textContent"],_e=R({__name:"SecondaryWeaponsList",setup(me){const{t:L}=V(),w=j(),{rat:A,lang:B,hide_completed_warframes:C}=G(w),{doUpdateHideCompletedWarframes:q}=w,d=u(!1),v=u(null),k=u(1),$=u(1),W=u(0),f=u([]),_=u([]),S=async t=>{d.value=!0,v.value=null;let a=t?`?page=${t}`:"?page=1";try{let o=await fetch(`${K}/secondary-weapons/${a}`,{method:"GET",headers:Q(A.value,B.value)}).then(p=>p).catch(()=>new Response(null,{status:400}));if(o.status===200){let p=await o.json();$.value=p.size,W.value=p.count,f.value=p.results,_.value=g(C.value),d.value=!1}else throw o.status}catch(o){o===401?E.error("not authorized"):E.error(L("AnErrorOccurred")),v.value=`${o}`,d.value=!1}},g=(t=!1)=>t?f.value.filter(o=>o.completion<100):f.value,D=()=>{q(!1),_.value=g(!1)},F=()=>{q(!0),_.value=g(!0)};return O(()=>{S(null)}),(t,a)=>{const o=r("qp-header"),p=r("el-button"),H=r("el-button-group"),h=r("el-col"),T=r("el-pagination"),b=r("el-row"),U=r("el-icon"),I=r("qp-notfound"),M=r("qp-loading");return!d.value&&!v.value?(s(),y("div",te,[i(o,{title:t.$t("SecondaryWeapons"),"page-type":"weapons"},null,8,["title"]),e("div",oe,[i(H,null,{default:l(()=>[x(C)?(s(),c(p,{key:0,onClick:a[0]||(a[0]=n=>D())},{default:l(()=>[e("span",{textContent:m(t.$t("ShowCompleted"))},null,8,ne)]),_:1})):(s(),c(p,{key:1,onClick:a[1]||(a[1]=n=>F())},{default:l(()=>[e("span",{textContent:m(t.$t("HideCompleted"))},null,8,se)]),_:1}))]),_:1})]),_.value.length?(s(),c(b,{key:0,class:"qp-weapons-list"},{default:l(()=>[i(J,{name:"list",mode:"out-in"},{default:l(()=>[(s(!0),y(P,null,Y(_.value,(n,N)=>(s(),c(h,{key:`weapons-${N}`,span:12,sm:8,md:6,lg:4},{default:l(()=>[e("div",{class:"qp-weapons-item",onClick:ve=>t.$router.push({name:"SecondaryWeaponsDetail",params:{pk:n.id,slug:x(ee)(n.name)}})},[e("div",le,[e("div",{class:"qp-weapons-image",style:z(`background-image:url('https://raw.githubusercontent.com/WFCD/warframe-items/master/data/img/${n.image_name}')`)},null,4),e("div",re,[e("span",{textContent:m(n.name)},null,8,pe)]),n.completion==100?(s(),y("div",ue)):X("",!0),e("div",ie,[e("div",{class:"qp-weapons-completed",style:z(`width:${n.completion}%;`)},null,4)])])],8,ae)]),_:2},1024))),128))]),_:1}),i(h,null,{default:l(()=>[i(T,{background:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":k.value,"onUpdate:current-page":a[2]||(a[2]=n=>k.value=n),"page-size":$.value,total:W.value,onCurrentChange:S},null,8,["current-page","page-size","total"])]),_:1})]),_:1})):(s(),c(b,{key:1},{default:l(()=>[i(h,null,{default:l(()=>[e("div",ce,[i(U,{size:"132",class:"mdi mdi-emoticon-happy-outline"}),e("p",{textContent:m(t.$t("YoucompletedallPrimeSecondaryWeapons"))},null,8,de)])]),_:1})]),_:1}))])):d.value?(s(),c(M,{key:2})):(s(),c(I,{key:1}))}}});const he=Z(_e,[["__scopeId","data-v-b8e502f8"]]);export{he as default};
