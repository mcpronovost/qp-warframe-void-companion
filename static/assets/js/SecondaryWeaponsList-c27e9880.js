import{d as G,u as O,s as P,a as Y,r as i,o as J,f as t,g as C,h as c,i as e,j as k,c as u,w as l,t as f,k as D,F as K,l as Q,T as X,A as Z,H as ee,E as U,e as r,m as te,n as oe,M as A,_ as ne}from"./index-13251ea8.js";import{q as se}from"./index-5c87147b.js";const ae={key:0,class:"qp-container"},le={class:"qp-weapons-actions"},re=["textContent"],ie=["textContent"],ue=["onClick"],pe={class:"qp-weapons-item-wrapper"},ce={class:"qp-weapons-name"},de=["textContent"],_e={key:0,class:"qp-weapons-complete"},me={class:"qp-weapons-completion"},ve={class:"qp-weapons-allcomplete"},fe=["textContent"],ge=G({__name:"SecondaryWeaponsList",setup(he){const{t:B}=O(),q=P(),{rat:$,lang:F,hide_completed_warframes:W}=Y(q),{doUpdateHideCompletedWarframes:S}=q,d=i(!1),v=i(!1),g=i(null),x=i(1),E=i(1),L=i(0),h=i([]),_=i([]),b=async(o=null,s=!0)=>{s?v.value=!0:d.value=!0,g.value=null;let m=o?`?page=${o}`:"?page=1";try{let a=await fetch(`${Z}/secondary-weapons/${m}`,{method:"GET",headers:ee($.value,F.value)}).then(p=>p).catch(()=>new Response(null,{status:400}));if(a.status===200){let p=await a.json();E.value=p.size,L.value=p.count,h.value=p.results,_.value=y(W.value),d.value=!1,v.value=!1}else throw a.status}catch(a){a===401?U.error("not authorized"):U.error(B("AnErrorOccurred")),g.value=`${a}`,d.value=!1,v.value=!1}},y=(o=!1)=>o?h.value.filter(m=>m.completion<100):h.value,H=()=>{S(!1),_.value=y(!1)},T=()=>{S(!0),_.value=y(!0)};return J(()=>{b(null,!1)}),(o,s)=>{const m=r("qp-header"),a=r("el-button"),p=r("el-button-group"),w=r("el-col"),I=r("el-pagination"),z=r("el-row"),M=r("el-icon"),N=r("qp-notfound"),R=r("qp-loading"),V=te("loading");return!d.value&&!g.value?(t(),C("div",ae,[c(m,{title:o.$t("SecondaryWeapons"),"page-type":"weapons"},null,8,["title"]),e("div",le,[k($)?(t(),u(p,{key:0},{default:l(()=>[k(W)?(t(),u(a,{key:0,onClick:s[0]||(s[0]=n=>H())},{default:l(()=>[e("span",{textContent:f(o.$t("ShowCompleted"))},null,8,re)]),_:1})):(t(),u(a,{key:1,onClick:s[1]||(s[1]=n=>T())},{default:l(()=>[e("span",{textContent:f(o.$t("HideCompleted"))},null,8,ie)]),_:1}))]),_:1})):D("",!0)]),_.value.length?(t(),u(z,{key:0,class:"qp-weapons-list"},{default:l(()=>[c(X,{name:"list",mode:"out-in"},{default:l(()=>[(t(!0),C(K,null,Q(_.value,(n,j)=>oe((t(),u(w,{key:`weapons-${j}`,span:12,sm:8,md:6,lg:4},{default:l(()=>[e("div",{class:"qp-weapons-item",onClick:ye=>o.$router.push({name:"SecondaryWeaponsDetail",params:{pk:n.id,slug:k(se)(n.name)}})},[e("div",pe,[e("div",{class:"qp-weapons-image",style:A(`background-image:url('https://raw.githubusercontent.com/WFCD/warframe-items/master/data/img/${n.image_name}')`)},null,4),e("div",ce,[e("span",{textContent:f(n.name)},null,8,de)]),n.completion==100?(t(),C("div",_e)):D("",!0),e("div",me,[e("div",{class:"qp-weapons-completed",style:A(`width:${n.completion}%;`)},null,4)])])],8,ue)]),_:2},1024)),[[V,v.value]])),128))]),_:1}),c(w,null,{default:l(()=>[c(I,{background:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":x.value,"onUpdate:current-page":s[2]||(s[2]=n=>x.value=n),"page-size":E.value,total:L.value,onCurrentChange:b},null,8,["current-page","page-size","total"])]),_:1})]),_:1})):(t(),u(z,{key:1},{default:l(()=>[c(w,null,{default:l(()=>[e("div",ve,[c(M,{size:"132",class:"mdi mdi-emoticon-happy-outline"}),e("p",{textContent:f(o.$t("YoucompletedallPrimeSecondaryWeapons"))},null,8,fe)])]),_:1})]),_:1}))])):d.value?(t(),u(R,{key:2})):(t(),u(N,{key:1}))}}});const ke=ne(ge,[["__scopeId","data-v-3808826c"]]);export{ke as default};
