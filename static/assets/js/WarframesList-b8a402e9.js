import{d as G,u as O,s as P,a as Y,r as i,o as J,f as t,g as y,h as p,i as e,j as k,c as u,w as l,t as v,k as S,F as K,l as Q,T as X,A as Z,H as ee,E as U,e as r,m as te,n as ae,M as A,_ as se}from"./index-1f7384cd.js";import{q as oe}from"./index-5c87147b.js";const ne={key:0,class:"qp-container"},le={class:"qp-warframes-actions"},re=["textContent"],ie=["textContent"],ue=["onClick"],ce={class:"qp-warframes-item-wrapper"},pe={class:"qp-warframes-name"},de=["textContent"],me={key:0,class:"qp-warframe-complete"},_e={class:"qp-warframe-completion"},fe={class:"qp-warframes-allcomplete"},ve=["textContent"],ge=G({__name:"WarframesList",setup(he){const{t:B}=O(),q=P(),{rat:$,lang:F,hide_completed_warframes:W}=Y(q),{doUpdateHideCompletedWarframes:b}=q,d=i(!1),f=i(!1),g=i(null),h=i([]),m=i([]),x=i(1),E=i(1),L=i(0),z=async(a=null,o=!0)=>{o?f.value=!0:d.value=!0,g.value=null;let _=a?`?page=${a}`:"?page=1";try{let n=await fetch(`${Z}/warframes/${_}`,{method:"GET",headers:ee($.value,F.value)}).then(c=>c).catch(()=>new Response(null,{status:400}));if(n.status===200){let c=await n.json();E.value=c.size,L.value=c.count,h.value=c.results,m.value=w(W.value),d.value=!1,f.value=!1}else throw n.status}catch(n){n===401?U.error("not authorized"):U.error(B("AnErrorOccurred")),g.value=`${n}`,d.value=!1,f.value=!1}},w=(a=!1)=>a?h.value.filter(_=>_.completion<100):h.value,H=()=>{b(!1),m.value=w(!1)},T=()=>{b(!0),m.value=w(!0)};return J(()=>{z(null,!1)}),(a,o)=>{const _=r("qp-header"),n=r("el-button"),c=r("el-button-group"),C=r("el-col"),I=r("el-pagination"),D=r("el-row"),M=r("el-icon"),N=r("qp-notfound"),R=r("qp-loading"),V=te("loading");return!d.value&&!g.value?(t(),y("div",ne,[p(_,{title:a.$t("Warframes"),"page-type":"warframes"},null,8,["title"]),e("div",le,[k($)?(t(),u(c,{key:0},{default:l(()=>[k(W)?(t(),u(n,{key:0,onClick:o[0]||(o[0]=s=>H())},{default:l(()=>[e("span",{textContent:v(a.$t("ShowCompleted"))},null,8,re)]),_:1})):(t(),u(n,{key:1,onClick:o[1]||(o[1]=s=>T())},{default:l(()=>[e("span",{textContent:v(a.$t("HideCompleted"))},null,8,ie)]),_:1}))]),_:1})):S("",!0)]),m.value.length?(t(),u(D,{key:0,class:"qp-warframes-list"},{default:l(()=>[p(X,{name:"list",mode:"out-in"},{default:l(()=>[(t(!0),y(K,null,Q(m.value,(s,j)=>ae((t(),u(C,{key:`warframes-${j}`,span:12,sm:8,md:6,lg:4},{default:l(()=>[e("div",{class:"qp-warframes-item",onClick:we=>a.$router.push({name:"WarframesDetail",params:{pk:s.id,slug:k(oe)(s.name)}})},[e("div",ce,[e("div",{class:"qp-warframes-image",style:A(`background-image:url('https://raw.githubusercontent.com/WFCD/warframe-items/master/data/img/${s.image_name}')`)},null,4),e("div",pe,[e("span",{textContent:v(s.name)},null,8,de)]),s.completion==100?(t(),y("div",me)):S("",!0),e("div",_e,[e("div",{class:"qp-warframe-completed",style:A(`width:${s.completion}%;`)},null,4)])])],8,ue)]),_:2},1024)),[[V,f.value]])),128))]),_:1}),p(C,null,{default:l(()=>[p(I,{background:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":x.value,"onUpdate:current-page":o[2]||(o[2]=s=>x.value=s),"page-size":E.value,total:L.value,onCurrentChange:z},null,8,["current-page","page-size","total"])]),_:1})]),_:1})):(t(),u(D,{key:1},{default:l(()=>[p(C,null,{default:l(()=>[e("div",fe,[p(M,{size:"132",class:"mdi mdi-emoticon-happy-outline"}),e("p",{textContent:v(a.$t("YoucompletedallPrimeWarframes"))},null,8,ve)])]),_:1})]),_:1}))])):d.value?(t(),u(R,{key:2})):(t(),u(N,{key:1}))}}});const ke=se(ge,[["__scopeId","data-v-1db827a2"]]);export{ke as default};
