import{d as I,u as M,s as N,a as R,r as m,o as U,g as s,h,i as c,j as t,w as n,q as W,c as r,t as d,F as V,l as j,T as G,A as O,H as P,E as $,f as l,M as x,m as Y,_ as J}from"./index-708ca2a2.js";import{q as K}from"./index-5c87147b.js";const Q={key:0,class:"qp-container"},X={class:"qp-warframes-actions"},Z=["textContent"],ee=["textContent"],te=["onClick"],se={class:"qp-warframes-item-wrapper"},ae={class:"qp-warframes-name"},oe=["textContent"],ne={key:0,class:"qp-warframe-complete"},le={class:"qp-warframe-completion"},re={class:"qp-warframes-allcomplete"},ie=["textContent"],ue=I({__name:"WarframesList",setup(ce){const{t:E}=M(),g=N(),{rat:L,lang:b,hide_completed_warframes:w}=R(g),{doUpdateHideCompletedWarframes:C}=g,i=m(!1),p=m(null),_=m([]),u=m([]),S=async()=>{i.value=!0,p.value=null;try{let e=await fetch(`${O}/warframes/`,{method:"GET",headers:P(L.value,b.value)}).then(a=>a).catch(()=>new Response(null,{status:400}));if(e.status===200){let a=await e.json();_.value=a.results,u.value=f(w.value),i.value=!1}else throw e.status}catch(e){e===401?$.error("not authorized"):$.error(E("AnErrorOccurred")),p.value=`${e}`,i.value=!1}},f=(e=!1)=>e?_.value.filter(v=>v.completion<100):_.value,A=()=>{C(!1),u.value=f(!1)},B=()=>{C(!0),u.value=f(!0)};return U(()=>{S()}),(e,a)=>{const v=l("qp-header"),q=l("el-button"),D=l("el-button-group"),y=l("el-col"),k=l("el-row"),F=l("el-icon"),H=l("qp-notfound"),T=l("qp-loading");return!i.value&&!p.value?(s(),h("div",Q,[c(v,{title:e.$t("Warframes"),"page-type":"warframes"},null,8,["title"]),t("div",X,[c(D,null,{default:n(()=>[W(w)?(s(),r(q,{key:0,onClick:a[0]||(a[0]=o=>A())},{default:n(()=>[t("span",{textContent:d(e.$t("ShowCompleted"))},null,8,Z)]),_:1})):(s(),r(q,{key:1,onClick:a[1]||(a[1]=o=>B())},{default:n(()=>[t("span",{textContent:d(e.$t("HideCompleted"))},null,8,ee)]),_:1}))]),_:1})]),u.value.length?(s(),r(k,{key:0,class:"qp-warframes-list"},{default:n(()=>[c(G,{name:"list",mode:"out-in"},{default:n(()=>[(s(!0),h(V,null,j(u.value,(o,z)=>(s(),r(y,{key:`warframes-${z}`,span:12,sm:8,md:6,lg:4},{default:n(()=>[t("div",{class:"qp-warframes-item",onClick:me=>e.$router.push({name:"WarframesDetail",params:{pk:o.id,slug:W(K)(o.name)}})},[t("div",se,[t("div",{class:"qp-warframes-image",style:x(`background-image:url('https://raw.githubusercontent.com/WFCD/warframe-items/master/data/img/${o.image_name}')`)},null,4),t("div",ae,[t("span",{textContent:d(o.name)},null,8,oe)]),o.completion==100?(s(),h("div",ne)):Y("",!0),t("div",le,[t("div",{class:"qp-warframe-completed",style:x(`width:${o.completion}%;`)},null,4)])])],8,te)]),_:2},1024))),128))]),_:1})]),_:1})):(s(),r(k,{key:1},{default:n(()=>[c(y,null,{default:n(()=>[t("div",re,[c(F,{size:"132",class:"mdi mdi-emoticon-happy-outline"}),t("p",{textContent:d(e.$t("YoucompletedallPrimeWarframes"))},null,8,ie)])]),_:1})]),_:1}))])):i.value?(s(),r(T,{key:2})):(s(),r(H,{key:1}))}}});const _e=J(ue,[["__scopeId","data-v-f2a9f96f"]]);export{_e as default};
