import{d as j,u as G,s as O,a as P,r as i,o as Y,g as s,h as q,i as c,j as e,w as l,q as z,c as p,t as v,F as J,k as K,T as Q,A as X,H as Z,E as D,f as r,m as ee,n as te,M as S,l as ae,_ as se}from"./index-d4c5f6c0.js";import{q as oe}from"./index-5c87147b.js";const ne={key:0,class:"qp-container"},le={class:"qp-warframes-actions"},re=["textContent"],ie=["textContent"],ue=["onClick"],ce={class:"qp-warframes-item-wrapper"},pe={class:"qp-warframes-name"},de=["textContent"],me={key:0,class:"qp-warframe-complete"},_e={class:"qp-warframe-completion"},fe={class:"qp-warframes-allcomplete"},ve=["textContent"],ge=j({__name:"WarframesList",setup(he){const{t:U}=G(),y=O(),{rat:A,lang:B,hide_completed_warframes:k}=P(y),{doUpdateHideCompletedWarframes:$}=y,d=i(!1),f=i(!1),g=i(null),h=i([]),m=i([]),W=i(1),x=i(1),E=i(0),L=async(t=null,o=!0)=>{o?f.value=!0:d.value=!0,g.value=null;let _=t?`?page=${t}`:"?page=1";try{let n=await fetch(`${X}/warframes/${_}`,{method:"GET",headers:Z(A.value,B.value)}).then(u=>u).catch(()=>new Response(null,{status:400}));if(n.status===200){let u=await n.json();x.value=u.size,E.value=u.count,h.value=u.results,m.value=w(k.value),d.value=!1,f.value=!1}else throw n.status}catch(n){n===401?D.error("not authorized"):D.error(U("AnErrorOccurred")),g.value=`${n}`,d.value=!1,f.value=!1}},w=(t=!1)=>t?h.value.filter(_=>_.completion<100):h.value,F=()=>{$(!1),m.value=w(!1)},H=()=>{$(!0),m.value=w(!0)};return Y(()=>{L(null,!1)}),(t,o)=>{const _=r("qp-header"),n=r("el-button"),u=r("el-button-group"),C=r("el-col"),T=r("el-pagination"),b=r("el-row"),I=r("el-icon"),M=r("qp-notfound"),N=r("qp-loading"),R=ee("loading");return!d.value&&!g.value?(s(),q("div",ne,[c(_,{title:t.$t("Warframes"),"page-type":"warframes"},null,8,["title"]),e("div",le,[c(u,null,{default:l(()=>[z(k)?(s(),p(n,{key:0,onClick:o[0]||(o[0]=a=>F())},{default:l(()=>[e("span",{textContent:v(t.$t("ShowCompleted"))},null,8,re)]),_:1})):(s(),p(n,{key:1,onClick:o[1]||(o[1]=a=>H())},{default:l(()=>[e("span",{textContent:v(t.$t("HideCompleted"))},null,8,ie)]),_:1}))]),_:1})]),m.value.length?(s(),p(b,{key:0,class:"qp-warframes-list"},{default:l(()=>[c(Q,{name:"list",mode:"out-in"},{default:l(()=>[(s(!0),q(J,null,K(m.value,(a,V)=>te((s(),p(C,{key:`warframes-${V}`,span:12,sm:8,md:6,lg:4},{default:l(()=>[e("div",{class:"qp-warframes-item",onClick:we=>t.$router.push({name:"WarframesDetail",params:{pk:a.id,slug:z(oe)(a.name)}})},[e("div",ce,[e("div",{class:"qp-warframes-image",style:S(`background-image:url('https://raw.githubusercontent.com/WFCD/warframe-items/master/data/img/${a.image_name}')`)},null,4),e("div",pe,[e("span",{textContent:v(a.name)},null,8,de)]),a.completion==100?(s(),q("div",me)):ae("",!0),e("div",_e,[e("div",{class:"qp-warframe-completed",style:S(`width:${a.completion}%;`)},null,4)])])],8,ue)]),_:2},1024)),[[R,f.value]])),128))]),_:1}),c(C,null,{default:l(()=>[c(T,{background:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":W.value,"onUpdate:current-page":o[2]||(o[2]=a=>W.value=a),"page-size":x.value,total:E.value,onCurrentChange:L},null,8,["current-page","page-size","total"])]),_:1})]),_:1})):(s(),p(b,{key:1},{default:l(()=>[c(C,null,{default:l(()=>[e("div",fe,[c(I,{size:"132",class:"mdi mdi-emoticon-happy-outline"}),e("p",{textContent:v(t.$t("YoucompletedallPrimeWarframes"))},null,8,ve)])]),_:1})]),_:1}))])):d.value?(s(),p(N,{key:2})):(s(),p(M,{key:1}))}}});const ye=se(ge,[["__scopeId","data-v-1da03237"]]);export{ye as default};
