import{d as I,u as R,s as V,a as j,r as p,o as G,g as s,h as v,i as u,j as t,w as n,q as $,c as r,t as m,F as M,l as O,T as P,A as U,H as Y,E as L,f as l,L as x,m as J,_ as K}from"./index-9e0ac4cd.js";const Q=h=>h.toString().normalize("NFD").toLowerCase().trim().replace(/\s+/g,"-").replace(/ð/g,"d").replace(/ß/g,"ss").replace(/§/g,"ss").replace(/ł/g,"l").replace(/ø/g,"o").replace(/æ/g,"ae").replace(/œ/g,"oe").replace(/ĸ/g,"k").replace(/µ/g,"u").replace(/[^\w\-]+/g,"").replace(/\_/g,"-").replace(/\-\-+/g,"-").replace(/\-$/g,""),X={key:0,class:"qp-container"},Z={class:"qp-warframes-actions"},ee=["textContent"],te=["textContent"],se=["onClick"],ae={class:"qp-warframes-item-wrapper"},oe={class:"qp-warframes-name"},ne=["textContent"],le={key:0,class:"qp-warframe-complete"},re={class:"qp-warframe-completion"},ce={class:"qp-warframes-allcomplete"},ie=["textContent"],ue=I({__name:"WarframesList",setup(h){const{t:E}=R(),w=V(),{rat:b,lang:S,hide_completed_warframes:C}=j(w),{updateHideCompletedWarframes:k}=w,c=p(!1),d=p(null),_=p([]),i=p([]),D=async()=>{c.value=!0,d.value=null;try{let e=await fetch(`${U}/warframes/`,{method:"GET",headers:Y(b.value,S.value)}).then(a=>a).catch(()=>new Response(null,{status:400}));if(e.status===200){let a=await e.json();_.value=a.results,i.value=f(C.value),c.value=!1}else throw e.status}catch(e){e===401?L.error("not authorized"):L.error(E("AnErrorOccurred")),d.value=`${e}`,c.value=!1}},f=(e=!1)=>e?_.value.filter(g=>g.completion<100):_.value,F=()=>{k(!1),i.value=f(!1)},z=()=>{k(!0),i.value=f(!0)};return G(()=>{D()}),(e,a)=>{const g=l("qp-header"),q=l("el-button"),A=l("el-button-group"),y=l("el-col"),W=l("el-row"),B=l("el-icon"),H=l("qp-notfound"),N=l("qp-loading");return!c.value&&!d.value?(s(),v("div",X,[u(g,{title:e.$t("Warframes"),"page-type":"warframes"},null,8,["title"]),t("div",Z,[u(A,null,{default:n(()=>[$(C)?(s(),r(q,{key:0,onClick:a[0]||(a[0]=o=>F())},{default:n(()=>[t("span",{textContent:m(e.$t("ShowCompleted"))},null,8,ee)]),_:1})):(s(),r(q,{key:1,onClick:a[1]||(a[1]=o=>z())},{default:n(()=>[t("span",{textContent:m(e.$t("HideCompleted"))},null,8,te)]),_:1}))]),_:1})]),i.value.length?(s(),r(W,{key:0,class:"qp-warframes-list"},{default:n(()=>[u(P,{name:"list",mode:"out-in"},{default:n(()=>[(s(!0),v(M,null,O(i.value,(o,T)=>(s(),r(y,{key:`warframes-${T}`,span:12,sm:8,md:6,lg:4},{default:n(()=>[t("div",{class:"qp-warframes-item",onClick:pe=>e.$router.push({name:"WarframesDetail",params:{pk:o.id,slug:$(Q)(o.name)}})},[t("div",ae,[t("div",{class:"qp-warframes-image",style:x(`background-image:url('https://raw.githubusercontent.com/WFCD/warframe-items/master/data/img/${o.image_name}')`)},null,4),t("div",oe,[t("span",{textContent:m(o.name)},null,8,ne)]),o.completion==100?(s(),v("div",le)):J("",!0),t("div",re,[t("div",{class:"qp-warframe-completed",style:x(`width:${o.completion}%;`)},null,4)])])],8,se)]),_:2},1024))),128))]),_:1})]),_:1})):(s(),r(W,{key:1},{default:n(()=>[u(y,null,{default:n(()=>[t("div",ce,[u(B,{size:"132",class:"mdi mdi-emoticon-happy-outline"}),t("p",{textContent:m(e.$t("YoucompletedallPrimeWarframes"))},null,8,ie)])]),_:1})]),_:1}))])):c.value?(s(),r(N,{key:2})):(s(),r(H,{key:1}))}}});const de=K(ue,[["__scopeId","data-v-ee28d3c9"]]);export{de as default};
